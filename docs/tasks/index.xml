<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ğŸ˜ - ä»»åŠ¡ on Hugo ä¸»é¢˜çš„ Learn æ–‡æ¡£</title>
    <link>https://lijun.in/tasks/</link>
    <description>Recent content in ğŸ˜ - ä»»åŠ¡ on Hugo ä¸»é¢˜çš„ Learn æ–‡æ¡£</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    
	<atom:link href="https://lijun.in/tasks/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>ç¤ºä¾‹ä»»åŠ¡çš„æ¨¡æ¿</title>
      <link>https://lijun.in/tasks/example-task-template/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tasks/example-task-template/</guid>
      <description>. note &amp;gt;}} è¿˜è¦ç¡®ä¿ä¸ºæ–°æ–‡æ¡£åœ¨ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ¡ç›®ã€‚ . /note &amp;gt;}}
è¿™ä¸ªé¡µé¢å±•ç¤ºäº†å¦‚ä½•&amp;hellip;
. heading &amp;ldquo;prerequisites&amp;rdquo; %}}  . include &amp;ldquo;task-tutorial-prereqs.md&amp;rdquo; &amp;gt;}} . version-check &amp;gt;}} åšè¿™ä¸ªã€‚ ä¹Ÿåšè¿™ä¸ªã€‚  åš&amp;hellip;  åšè¿™ä¸ªã€‚ æ¥ä¸‹æ¥åšè¿™ä¸ªã€‚å¯èƒ½éœ€è¦é˜…è¯»ä¸€ä¸‹è¿™ä¸ªç›¸å…³è§£é‡Š.  ç†è§£ &amp;hellip; [å¯é€‰éƒ¨åˆ†]
å…³äºä½ åˆšæ‰æ‰€åšçš„è¿‡ç¨‹ï¼Œæœ‰ä¸€ç‚¹æ˜¯éœ€è¦çŸ¥é“çš„ã€‚
. heading &amp;ldquo;whatsnext&amp;rdquo; %}} [å¯é€‰éƒ¨åˆ†]
 äº†è§£æ›´å¤šå…³äºæ’°å†™æ–°ä¸»é¢˜. æŸ¥çœ‹ä½¿ç”¨é¡µé¢æ¨¡æ¿-ä»»åŠ¡æ¨¡æ¿ for how to use this template.  </description>
    </item>
    
    <item>
      <title>ğŸ˜ - ç”¨æ’ä»¶æ‰©å±• kubectl</title>
      <link>https://lijun.in/tasks/extend-kubectl/kubectl-plugins/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tasks/extend-kubectl/kubectl-plugins/</guid>
      <description>. feature-state state=&amp;quot;stable&amp;rdquo; &amp;gt;}}
æœ¬æŒ‡å—æ¼”ç¤ºäº†å¦‚ä½•ä¸º kubectl å®‰è£…å’Œç¼–å†™æ‰©å±•ã€‚ é€šè¿‡å°†æ ¸å¿ƒ kubectl å‘½ä»¤çœ‹ä½œä¸ Kubernetes é›†ç¾¤äº¤äº’çš„åŸºæœ¬æ„å»ºå—ï¼Œé›†ç¾¤ç®¡ç†å‘˜å¯ä»¥å°†æ’ä»¶è§†ä¸ºä¸€ç§åˆ©ç”¨è¿™äº›æ„å»ºå—åˆ›å»ºæ›´å¤æ‚è¡Œä¸ºçš„æ–¹æ³•ã€‚ æ’ä»¶ç”¨æ–°çš„å­å‘½ä»¤æ‰©å±•äº† kubectlï¼Œå…è®¸æ–°çš„å’Œè‡ªå®šä¹‰çš„ç‰¹æ€§ä¸åŒ…æ‹¬åœ¨ kubectl çš„ä¸»è¦å‘è¡Œç‰ˆä¸­ã€‚
. heading &amp;ldquo;prerequisites&amp;rdquo; %}} æ‚¨éœ€è¦å®‰è£…ä¸€ä¸ªå·¥ä½œçš„äºŒè¿›åˆ¶ kubectlã€‚
. note &amp;gt;}}
æ’ä»¶åœ¨ v1.8.0 ç‰ˆæœ¬ä¸­æ­£å¼ä½œä¸º alpha ç‰¹æ€§å¼•å…¥ã€‚å®ƒä»¬å·²ç»åœ¨ v1.12.0 ç‰ˆæœ¬ä¸­å·¥ä½œï¼Œä»¥æ”¯æŒæ›´å¹¿æ³›çš„ç”¨ä¾‹ã€‚å› æ­¤ï¼Œè™½ç„¶åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­å·²ç»æä¾›äº†éƒ¨åˆ†æ’ä»¶ç‰¹æ€§ï¼Œä½†å¦‚æœæ‚¨éµå¾ªè¿™äº›æ–‡æ¡£ï¼Œå»ºè®®ä½¿ç”¨ 1.12.0 æˆ–æ›´é«˜ç‰ˆæœ¬çš„ kubectlã€‚
. /note &amp;gt;}}
å®‰è£… kubectl æ’ä»¶ æ’ä»¶åªä¸è¿‡æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåç§°ä»¥ kubectl- å¼€å¤´ã€‚è¦å®‰è£…æ’ä»¶ï¼Œåªéœ€å°†æ­¤å¯æ‰§è¡Œæ–‡ä»¶ç§»åŠ¨åˆ°è·¯å¾„ä¸Šçš„ä»»ä½•ä½ç½®ã€‚
. note &amp;gt;}}
Kubernetes ä¸æä¾›åŒ…ç®¡ç†å™¨æˆ–ä»»ä½•ç±»ä¼¼äºå®‰è£…æˆ–æ›´æ–°æ’ä»¶çš„ä¸œè¥¿ã€‚ä½ æœ‰è´£ä»»ç¡®ä¿æ’ä»¶å¯æ‰§è¡Œæ–‡ä»¶çš„æ–‡ä»¶åä»¥ kubectl- å¼€å¤´ï¼Œå¹¶å°†å®ƒä»¬æ”¾åœ¨ä½ è·¯å¾„çš„æŸä¸ªä½ç½®ã€‚ . /note &amp;gt;}}
å‘ç°æ’ä»¶ kubectl æä¾›ä¸€ä¸ªå‘½ä»¤ kubectl plugin listï¼Œç”¨äºæœç´¢è·¯å¾„æŸ¥æ‰¾æœ‰æ•ˆçš„æ’ä»¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚ æ‰§è¡Œæ­¤å‘½ä»¤å°†éå†è·¯å¾„ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚ä»»ä½•ä»¥ kubectl- å¼€å¤´çš„å¯æ‰§è¡Œæ–‡ä»¶éƒ½å°†åœ¨è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºä¸­ä»¥å®ƒä»¬åœ¨è·¯å¾„ä¸­å‡ºç°çš„é¡ºåºæ˜¾ç¤ºã€‚ ä»»ä½•ä»¥ kubectl- å¼€å¤´çš„æ–‡ä»¶å¦‚æœä¸å¯æ‰§è¡Œï¼Œéƒ½å°†åŒ…å«ä¸€ä¸ªè­¦å‘Šã€‚ å¯¹äºä»»ä½•ç›¸åŒçš„æœ‰æ•ˆæ’ä»¶æ–‡ä»¶ï¼Œéƒ½å°†åŒ…å«ä¸€ä¸ªè­¦å‘Šã€‚
é™åˆ¶ ç›®å‰æ— æ³•åˆ›å»ºè¦†ç›–ç°æœ‰ kubectl å‘½ä»¤çš„æ’ä»¶ï¼Œä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ªæ’ä»¶ kubectl-version å°†å¯¼è‡´è¯¥æ’ä»¶æ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œï¼Œå› ä¸ºç°æœ‰çš„ kubectl-version å‘½ä»¤æ€»æ˜¯ä¼˜å…ˆäºå®ƒæ‰§è¡Œã€‚ ç”±äºè¿™ä¸ªé™åˆ¶ï¼Œä¹Ÿä¸å¯èƒ½ä½¿ç”¨æ’ä»¶å°†æ–°çš„å­å‘½ä»¤æ·»åŠ åˆ°ç°æœ‰çš„ kubectl å‘½ä»¤ä¸­ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡å°†æ’ä»¶å‘½åä¸º kubectl-create-foo æ¥æ·»åŠ å­å‘½ä»¤ kubectl create foo å°†å¯¼è‡´è¯¥æ’ä»¶è¢«å¿½ç•¥ã€‚å¯¹äºä»»ä½•è¯•å›¾è¿™æ ·åšçš„æœ‰æ•ˆæ’ä»¶ kubectl plugin list çš„è¾“å‡ºä¸­å°†æ˜¾ç¤ºè­¦å‘Šã€‚</description>
    </item>
    
    <item>
      <title>ğŸ˜ - ç®¡ç†å·¨é¡µï¼ˆHugePagesï¼‰</title>
      <link>https://lijun.in/tasks/manage-hugepages/scheduling-hugepages/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tasks/manage-hugepages/scheduling-hugepages/</guid>
      <description>. feature-state state=&amp;quot;stable&amp;rdquo; &amp;gt;}}
ä½œä¸º GA ç‰¹æ€§ï¼ŒKubernetes æ”¯æŒåœ¨ Pod åº”ç”¨ä¸­ä½¿ç”¨é¢„å…ˆåˆ†é…çš„å·¨é¡µã€‚æœ¬æ–‡æè¿°äº†ç”¨æˆ·å¦‚ä½•ä½¿ç”¨å·¨é¡µï¼Œä»¥åŠå½“å‰çš„é™åˆ¶ã€‚
. heading &amp;ldquo;prerequisites&amp;rdquo; %}}  ä¸ºäº†ä½¿èŠ‚ç‚¹èƒ½å¤Ÿä¸ŠæŠ¥å·¨é¡µå®¹é‡ï¼ŒKubernetes èŠ‚ç‚¹å¿…é¡»é¢„å…ˆåˆ†é…å·¨é¡µã€‚æ¯ä¸ªèŠ‚ç‚¹åªèƒ½é¢„å…ˆåˆ†é…ä¸€ç§ç‰¹å®šè§„æ ¼çš„å·¨é¡µã€‚  èŠ‚ç‚¹ä¼šè‡ªåŠ¨å‘ç°å…¨éƒ¨å·¨é¡µèµ„æºï¼Œå¹¶ä½œä¸ºå¯ä¾›è°ƒåº¦çš„èµ„æºè¿›è¡Œä¸ŠæŠ¥ã€‚
API ç”¨æˆ·å¯ä»¥é€šè¿‡åœ¨å®¹å™¨çº§åˆ«çš„èµ„æºéœ€æ±‚ä¸­ä½¿ç”¨èµ„æºåç§° hugepages-&amp;lt;size&amp;gt; æ¥ä½¿ç”¨å·¨é¡µï¼Œå…¶ä¸­çš„ size æ˜¯ç‰¹å®šèŠ‚ç‚¹ä¸Šæ”¯æŒçš„ä»¥æ•´æ•°å€¼è¡¨ç¤ºçš„æœ€å°äºŒè¿›åˆ¶å•ä½ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœèŠ‚ç‚¹æ”¯æŒ 2048KiB çš„é¡µé¢è§„æ ¼ï¼Œ å®ƒå°†æš´éœ²å¯ä¾›è°ƒåº¦çš„èµ„æº hugepages-2Miã€‚ ä¸ CPU æˆ–å†…å­˜ä¸åŒï¼Œå·¨é¡µä¸æ”¯æŒè¿‡é‡ä½¿ç”¨ï¼ˆovercommitï¼‰ã€‚ æ³¨æ„ï¼Œåœ¨è¯·æ±‚å·¨é¡µèµ„æºæ—¶ï¼Œè¿˜å¿…é¡»è¯·æ±‚å†…å­˜æˆ– CPU èµ„æºã€‚
apiVersion: v1 kind: Pod metadata: generateName: hugepages-volume- spec: containers: - image: fedora:latest command: - sleep - inf name: example volumeMounts: - mountPath: /hugepages name: hugepage resources: limits: hugepages-2Mi: 100Mi memory: 100Mi requests: memory: 100Mi volumes: - name: hugepage emptyDir: medium: HugePages  å·¨é¡µçš„èµ„æºè¯·æ±‚å€¼å¿…é¡»ç­‰äºå…¶é™åˆ¶å€¼ã€‚è¯¥æ¡ä»¶åœ¨æŒ‡å®šäº†èµ„æºé™åˆ¶ï¼Œè€Œæ²¡æœ‰æŒ‡å®šè¯·æ±‚çš„æƒ…å†µä¸‹é»˜è®¤æˆç«‹ã€‚ å·¨é¡µæ˜¯è¢«éš”ç¦»åœ¨ pod ä½œç”¨åŸŸçš„ï¼Œè®¡åˆ’åœ¨å°†æ¥çš„è¿­ä»£ä¸­å®ç°å®¹å™¨çº§åˆ«çš„éš”ç¦»ã€‚ å·¨é¡µå¯ç”¨äº EmptyDir å·ï¼Œä¸è¿‡ EmptyDir å·æ‰€ä½¿ç”¨çš„å·¨é¡µæ•°é‡ä¸èƒ½å¤Ÿè¶…å‡º Pod è¯·æ±‚çš„å·¨é¡µæ•°é‡ã€‚ é€šè¿‡å¸¦æœ‰ SHM_HUGETLB çš„ shmget() ä½¿ç”¨å·¨é¡µçš„åº”ç”¨ï¼Œå¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ªä¸ proc/sys/vm/hugetlb_shm_group åŒ¹é…çš„è¡¥å……ç»„ä¸‹ã€‚ é€šè¿‡ ResourceQuota èµ„æºï¼Œå¯ä»¥ä½¿ç”¨ hugepages-&amp;lt;size&amp;gt; æ ‡è®°æ§åˆ¶æ¯ä¸ªå‘½åç©ºé—´ä¸‹çš„å·¨é¡µä½¿ç”¨é‡ï¼Œ ç±»ä¼¼äºä½¿ç”¨ cpu æˆ– memory æ¥æ§åˆ¶å…¶ä»–è®¡ç®—èµ„æºã€‚  å¾…å®ç°çš„ç‰¹æ€§  åœ¨ pod çº§åˆ«éš”ç¦»çš„åŸºç¡€ä¸Šï¼Œæ”¯æŒå·¨é¡µåœ¨å®¹å™¨çº§åˆ«çš„éš”ç¦»ã€‚ ä½œä¸ºæœåŠ¡è´¨é‡ç‰¹æ€§ï¼Œä¿è¯å·¨é¡µçš„ NUMA å±€éƒ¨æ€§ã€‚ æ”¯æŒ LimitRange ã€‚  </description>
    </item>
    
    <item>
      <title>ğŸ˜ - è°ƒåº¦ GPUs</title>
      <link>https://lijun.in/tasks/manage-gpus/scheduling-gpus/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tasks/manage-gpus/scheduling-gpus/</guid>
      <description>Kubernetes æ”¯æŒå¯¹èŠ‚ç‚¹ä¸Šçš„ AMD å’Œ NVIDA GPU è¿›è¡Œç®¡ç†ï¼Œç›®å‰å¤„äºå®éªŒçŠ¶æ€ã€‚å¯¹ NVIDIA GPU çš„æ”¯æŒåœ¨ v1.6 ä¸­åŠ å…¥ï¼Œå·²ç»ç»å†äº†å¤šæ¬¡ä¸å‘åå…¼å®¹çš„è¿­ä»£ã€‚è€Œå¯¹ AMD GPU çš„æ”¯æŒåˆ™åœ¨ v1.9 ä¸­é€šè¿‡ è®¾å¤‡æ’ä»¶ åŠ å…¥ã€‚
è¿™ä¸ªé¡µé¢ä»‹ç»äº†ç”¨æˆ·å¦‚ä½•åœ¨ä¸åŒçš„ Kubernetes ç‰ˆæœ¬ä¸­ä½¿ç”¨ GPUï¼Œä»¥åŠå½“å‰å­˜åœ¨çš„ä¸€äº›é™åˆ¶ã€‚
ä» v1.8 èµ· ä» 1.8 ç‰ˆæœ¬å¼€å§‹ï¼Œæˆ‘ä»¬æ¨èé€šè¿‡ è®¾å¤‡æ’ä»¶ çš„æ–¹å¼æ¥ä½¿ç”¨ GPUã€‚
åœ¨ 1.10 ç‰ˆæœ¬ä¹‹å‰ï¼Œä¸ºäº†é€šè¿‡è®¾å¤‡æ’ä»¶å¼€å¯ GPU çš„æ”¯æŒï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç³»ç»Ÿä¸­å°† DevicePlugins è¿™ä¸€ç‰¹æ€§å¼€å…³æ˜¾å¼åœ°è®¾ç½®ä¸º trueï¼š--feature-gates=&amp;quot;DevicePlugins=true&amp;quot;ã€‚ä¸è¿‡ï¼Œ ä» 1.10 ç‰ˆæœ¬å¼€å§‹ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦è¿™ä¸€æ­¥éª¤äº†ã€‚
æ¥ç€ä½ éœ€è¦åœ¨ä¸»æœºèŠ‚ç‚¹ä¸Šå®‰è£…å¯¹åº”å‚å•†çš„ GPU é©±åŠ¨å¹¶è¿è¡Œå¯¹åº”å‚å•†çš„è®¾å¤‡æ’ä»¶ (AMDã€NVIDIA)ã€‚
å½“ä¸Šé¢çš„æ¡ä»¶éƒ½æ»¡è¶³ï¼ŒKubernetes å°†ä¼šæš´éœ² nvidia.com/gpu æˆ– amd.com/gpu æ¥ä½œä¸º ä¸€ç§å¯è°ƒåº¦çš„èµ„æºã€‚
ä½ ä¹Ÿèƒ½é€šè¿‡åƒè¯·æ±‚ cpu æˆ– memory ä¸€æ ·è¯·æ±‚ &amp;lt;vendor&amp;gt;.com/gpu æ¥åœ¨å®¹å™¨ä¸­ä½¿ç”¨ GPUã€‚ç„¶è€Œï¼Œå½“ä½ è¦é€šè¿‡æŒ‡å®šèµ„æºè¯·æ±‚æ¥ä½¿ç”¨ GPU æ—¶ï¼Œå­˜åœ¨ç€ä»¥ä¸‹å‡ ç‚¹é™åˆ¶ï¼š
 GPU ä»…ä»…æ”¯æŒåœ¨ limits éƒ¨åˆ†è¢«æŒ‡å®šï¼Œè¿™è¡¨æ˜ï¼š  ä½ å¯ä»¥ä»…ä»…æŒ‡å®š GPU çš„ limits å­—æ®µè€Œä¸å¿…é¡»æŒ‡å®š requests å­—æ®µï¼Œå› ä¸º Kubernetes ä¼šé»˜è®¤ä½¿ç”¨ limit å­—æ®µçš„å€¼æ¥ä½œä¸º request å­—æ®µçš„é»˜è®¤å€¼ã€‚ ä½ èƒ½åŒæ—¶æŒ‡å®š GPU çš„ limits å’Œ requests å­—æ®µï¼Œä½†è¿™ä¸¤ä¸ªå€¼å¿…é¡»ç›¸ç­‰ã€‚ ä½ ä¸èƒ½ä»…ä»…æŒ‡å®š GPU çš„ request å­—æ®µè€Œä¸æŒ‡å®š limitsã€‚   å®¹å™¨ï¼ˆä»¥åŠ podï¼‰å¹¶ä¸ä¼šå…±äº« GPUï¼Œä¹Ÿä¸å­˜åœ¨å¯¹ GPU çš„è¿‡é‡ä½¿ç”¨ã€‚ æ¯ä¸€ä¸ªå®¹å™¨èƒ½å¤Ÿè¯·æ±‚ä¸€ä¸ªæˆ–å¤šä¸ª GPUã€‚ç„¶è€Œåªè¯·æ±‚ä¸€ä¸ª GPU çš„ä¸€éƒ¨åˆ†æ˜¯ä¸å…è®¸çš„ã€‚  ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</description>
    </item>
    
  </channel>
</rss>