<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ğŸ˜ - æœ‰çŠ¶æ€çš„åº”ç”¨ on Hugo ä¸»é¢˜çš„ Learn æ–‡æ¡£</title>
    <link>https://lijun.in/tutorials/stateful-application/</link>
    <description>Recent content in ğŸ˜ - æœ‰çŠ¶æ€çš„åº”ç”¨ on Hugo ä¸»é¢˜çš„ Learn æ–‡æ¡£</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-US</language>
    
	<atom:link href="https://lijun.in/tutorials/stateful-application/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>ç¤ºä¾‹ï¼šä½¿ç”¨ Persistent Volumes éƒ¨ç½² WordPress å’Œ MySQL</title>
      <link>https://lijun.in/tutorials/stateful-application/mysql-wordpress-persistent-volume/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tutorials/stateful-application/mysql-wordpress-persistent-volume/</guid>
      <description>æœ¬ç¤ºä¾‹æè¿°äº†å¦‚ä½•é€šè¿‡ Minikube åœ¨ Kubernetes ä¸Šå®‰è£… WordPress å’Œ MySQLã€‚è¿™ä¸¤ä¸ªåº”ç”¨éƒ½ä½¿ç”¨ PersistentVolumes å’Œ PersistentVolumeClaims ä¿å­˜æ•°æ®ã€‚
PersistentVolumeï¼ˆPVï¼‰æ˜¯ä¸€å—é›†ç¾¤é‡Œç”±ç®¡ç†å‘˜æ‰‹åŠ¨æä¾›ï¼Œæˆ– kubernetes é€šè¿‡ StorageClass åŠ¨æ€åˆ›å»ºçš„å­˜å‚¨ã€‚ PersistentVolumeClaimï¼ˆPVCï¼‰æ˜¯ä¸€ä¸ªæ»¡è¶³å¯¹ PV å­˜å‚¨éœ€è¦çš„è¯·æ±‚ã€‚PersistentVolumes å’Œ PersistentVolumeClaims æ˜¯ç‹¬ç«‹äº Pod ç”Ÿå‘½å‘¨æœŸè€Œåœ¨ Pod é‡å¯ï¼Œé‡æ–°è°ƒåº¦ç”šè‡³åˆ é™¤è¿‡ç¨‹ä¸­ä¿å­˜æ•°æ®ã€‚
. warning &amp;gt;}}
deployment åœ¨ç”Ÿäº§åœºæ™¯ä¸­å¹¶ä¸é€‚åˆï¼Œå®ƒä½¿ç”¨å•å®ä¾‹ WordPress å’Œ MySQL Podsã€‚è€ƒè™‘ä½¿ç”¨ WordPress Helm Chart åœ¨ç”Ÿäº§åœºæ™¯ä¸­éƒ¨ç½² WordPressã€‚ . /warning &amp;gt;}}
. note &amp;gt;}}
æœ¬æ•™ç¨‹ä¸­æä¾›çš„æ–‡ä»¶ä½¿ç”¨ GA Deployment APIï¼Œå¹¶ä¸”ç‰¹å®šäº kubernetes 1.9 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚å¦‚æœæ‚¨å¸Œæœ›å°†æœ¬æ•™ç¨‹ä¸ Kubernetes çš„æ—©æœŸç‰ˆæœ¬ä¸€èµ·ä½¿ç”¨ï¼Œè¯·ç›¸åº”åœ°æ›´æ–° API ç‰ˆæœ¬ï¼Œæˆ–å‚è€ƒæœ¬æ•™ç¨‹çš„æ—©æœŸç‰ˆæœ¬ã€‚ . /note &amp;gt;}}
. heading &amp;ldquo;objectives&amp;rdquo; %}}  åˆ›å»º PersistentVolumeClaims å’Œ PersistentVolumes åˆ›å»º kustomization.</description>
    </item>
    
    <item>
      <title>StatefulSet åŸºç¡€</title>
      <link>https://lijun.in/tutorials/stateful-application/basic-stateful-set/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tutorials/stateful-application/basic-stateful-set/</guid>
      <description>æœ¬æ•™ç¨‹ä»‹ç»å¦‚ä½•äº†ä½¿ç”¨ StatefulSets æ¥ç®¡ç†åº”ç”¨ã€‚æ¼”ç¤ºäº†å¦‚ä½•åˆ›å»ºã€åˆ é™¤ã€æ‰©å®¹/ç¼©å®¹å’Œæ›´æ–° StatefulSets çš„ Podsã€‚
. heading &amp;ldquo;prerequisites&amp;rdquo; %}} åœ¨å¼€å§‹æœ¬æ•™ç¨‹ä¹‹å‰ï¼Œä½ åº”è¯¥ç†Ÿæ‚‰ä»¥ä¸‹ Kubernetes çš„æ¦‚å¿µï¼š
 Pods Cluster DNS Headless Services PersistentVolumes [PersistentVolume Provisioning](https://github.com/kubernetes/examples/tree/. param &amp;ldquo;githubbranch&amp;rdquo; &amp;gt;}}/staging/persistent-volume-provisioning/) StatefulSets kubectl CLI  æœ¬æ•™ç¨‹å‡è®¾ä½ çš„é›†ç¾¤è¢«é…ç½®ä¸ºåŠ¨æ€çš„æä¾› PersistentVolumesã€‚å¦‚æœæ²¡æœ‰è¿™æ ·é…ç½®ï¼Œåœ¨å¼€å§‹æœ¬æ•™ç¨‹ä¹‹å‰ï¼Œä½ éœ€è¦æ‰‹åŠ¨å‡†å¤‡ 2 ä¸ª 1 GiB çš„å­˜å‚¨å·ã€‚
. heading &amp;ldquo;objectives&amp;rdquo; %}} StatefulSets æ—¨åœ¨ä¸æœ‰çŠ¶æ€çš„åº”ç”¨åŠåˆ†å¸ƒå¼ç³»ç»Ÿä¸€èµ·ä½¿ç”¨ã€‚ç„¶è€Œåœ¨ Kubernetes ä¸Šç®¡ç†æœ‰çŠ¶æ€åº”ç”¨å’Œåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ä¸€ä¸ªå®½æ³›è€Œå¤æ‚çš„è¯é¢˜ã€‚ä¸ºäº†æ¼”ç¤º StatefulSet çš„åŸºæœ¬ç‰¹æ€§ï¼Œå¹¶ä¸”ä¸ä½¿å‰åçš„ä¸»é¢˜æ··æ·†ï¼Œä½ å°†ä¼šä½¿ç”¨ StatefulSet éƒ¨ç½²ä¸€ä¸ªç®€å•çš„ web åº”ç”¨ã€‚
åœ¨é˜…è¯»æœ¬æ•™ç¨‹åï¼Œä½ å°†ç†Ÿæ‚‰ä»¥ä¸‹å†…å®¹ï¼š
 å¦‚ä½•åˆ›å»º StatefulSet StatefulSet æ€æ ·ç®¡ç†å®ƒçš„ Pods å¦‚ä½•åˆ é™¤ StatefulSet å¦‚ä½•å¯¹ StatefulSet è¿›è¡Œæ‰©å®¹/ç¼©å®¹ å¦‚ä½•æ›´æ–°ä¸€ä¸ª StatefulSet çš„ Pods  åˆ›å»º StatefulSet ä½œä¸ºå¼€å§‹ï¼Œä½¿ç”¨å¦‚ä¸‹ç¤ºä¾‹åˆ›å»ºä¸€ä¸ª StatefulSetã€‚å®ƒå’Œ StatefulSets æ¦‚å¿µä¸­çš„ç¤ºä¾‹ç›¸ä¼¼ã€‚å®ƒåˆ›å»ºäº†ä¸€ä¸ª Headless Service nginx ç”¨æ¥å‘å¸ƒ StatefulSet web ä¸­çš„ Pod çš„ IP åœ°å€ã€‚</description>
    </item>
    
    <item>
      <title>ç¤ºä¾‹ï¼šä½¿ç”¨ Stateful Sets éƒ¨ç½² Cassandra</title>
      <link>https://lijun.in/tutorials/stateful-application/cassandra/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tutorials/stateful-application/cassandra/</guid>
      <description>ç›®å½•  å‡†å¤‡å·¥ä½œ Cassandra docker é•œåƒ å¿«é€Ÿå…¥é—¨ æ­¥éª¤1ï¼šåˆ›å»º Cassandra Headless Service æ­¥éª¤2ï¼šä½¿ç”¨ StatefulSet åˆ›å»º Cassandra Ring ç¯ æ­¥éª¤3ï¼šéªŒè¯å¹¶ä¿®æ”¹ Cassandra StatefulSet æ­¥éª¤4ï¼šåˆ é™¤ Cassandra StatefulSet æ­¥éª¤5ï¼šä½¿ç”¨ Replication Controller åˆ›å»º Cassandra èŠ‚ç‚¹ pods æ­¥éª¤6ï¼šCassandra é›†ç¾¤æ‰©å®¹ æ­¥éª¤7ï¼šåˆ é™¤ Replication Controller æ­¥éª¤8ï¼šä½¿ç”¨ DaemonSet æ›¿æ¢ Replication Controller æ­¥éª¤9ï¼šèµ„æºæ¸…ç† Seed Provider Source  ä¸‹æ–‡æè¿°äº†åœ¨ Kubernetes ä¸Šéƒ¨ç½²ä¸€ä¸ª_äº‘åŸç”Ÿ_ Cassandra çš„è¿‡ç¨‹ã€‚å½“æˆ‘ä»¬è¯´_äº‘åŸç”Ÿ_æ—¶ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªåº”ç”¨èƒ½å¤Ÿç†è§£å®ƒè¿è¡Œåœ¨ä¸€ä¸ªé›†ç¾¤ç®¡ç†å™¨å†…éƒ¨ï¼Œå¹¶ä¸”ä½¿ç”¨è¿™ä¸ªé›†ç¾¤çš„ç®¡ç†åŸºç¡€è®¾æ–½æ¥å¸®åŠ©å®ç°è¿™ä¸ªåº”ç”¨ã€‚ç‰¹åˆ«çš„ï¼Œæœ¬ä¾‹ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ Cassandra SeedProvider å¸®åŠ© Cassandra å‘ç°æ–°åŠ å…¥é›†ç¾¤ Cassandra èŠ‚ç‚¹ã€‚
æœ¬ç¤ºä¾‹ä¹Ÿä½¿ç”¨äº†Kubernetesçš„ä¸€äº›æ ¸å¿ƒç»„ä»¶ï¼š
 Pods Services Replication Controllers Stateful Sets Daemon Sets  å‡†å¤‡å·¥ä½œ æœ¬ç¤ºä¾‹å‡è®¾ä½ å·²ç»å®‰è£…è¿è¡Œäº†ä¸€ä¸ª Kubernetesé›†ç¾¤ï¼ˆç‰ˆæœ¬ &amp;gt;=1.</description>
    </item>
    
    <item>
      <title>è¿è¡Œ ZooKeeperï¼Œ ä¸€ä¸ª CP åˆ†å¸ƒå¼ç³»ç»Ÿ</title>
      <link>https://lijun.in/tutorials/stateful-application/zookeeper/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://lijun.in/tutorials/stateful-application/zookeeper/</guid>
      <description>æœ¬æ•™ç¨‹å±•ç¤ºäº†åœ¨ Kubernetes ä¸Šä½¿ç”¨ PodDisruptionBudgets å’Œ PodAntiAffinity ç‰¹æ€§è¿è¡Œ Apache Zookeeperã€‚
. heading &amp;ldquo;prerequisites&amp;rdquo; %}} åœ¨å¼€å§‹æœ¬æ•™ç¨‹å‰ï¼Œä½ åº”è¯¥ç†Ÿæ‚‰ä»¥ä¸‹ Kubernetes æ¦‚å¿µã€‚
 Pods Cluster DNS Headless Services PersistentVolumes [PersistentVolume Provisioning](http://releases.k8s.io/. param &amp;ldquo;githubbranch&amp;rdquo; &amp;gt;}}/examples/persistent-volume-provisioning/) ConfigMaps StatefulSets PodDisruptionBudgets PodAntiAffinity kubectl CLI  ä½ éœ€è¦ä¸€ä¸ªè‡³å°‘åŒ…å«å››ä¸ªèŠ‚ç‚¹çš„é›†ç¾¤ï¼Œæ¯ä¸ªèŠ‚ç‚¹è‡³å°‘ 2 CPUs å’Œ 4 GiB å†…å­˜ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ä½ å°†ä¼š cordon å’Œ drain é›†ç¾¤çš„èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€é›†ç¾¤èŠ‚ç‚¹ä¸Šæ‰€æœ‰çš„ Pods å°†ä¼šè¢«ç»ˆæ­¢å¹¶ç§»é™¤ã€‚è¿™äº›èŠ‚ç‚¹ä¹Ÿä¼šæš‚æ—¶å˜ä¸ºä¸å¯è°ƒåº¦ã€‚åœ¨æœ¬æ•™ç¨‹ä¸­ä½ åº”è¯¥ä½¿ç”¨ä¸€ä¸ªç‹¬å çš„é›†ç¾¤ï¼Œæˆ–è€…ä¿è¯ä½ é€ æˆçš„å¹²æ‰°ä¸ä¼šå½±å“å…¶å®ƒç§Ÿæˆ·ã€‚
æœ¬æ•™ç¨‹å‡è®¾ä½ çš„é›†ç¾¤é…ç½®ä¸ºåŠ¨æ€çš„æä¾› PersistentVolumesã€‚å¦‚æœä½ çš„é›†ç¾¤æ²¡æœ‰é…ç½®æˆè¿™æ ·ï¼Œåœ¨å¼€å§‹æœ¬æ•™ç¨‹å‰ï¼Œä½ éœ€è¦æ‰‹åŠ¨å‡†å¤‡ä¸‰ä¸ª 20 GiB çš„å·ã€‚
. heading &amp;ldquo;objectives&amp;rdquo; %}} åœ¨å­¦ä¹ æœ¬æ•™ç¨‹åï¼Œä½ å°†ç†Ÿæ‚‰ä¸‹åˆ—å†…å®¹ã€‚
 å¦‚ä½•ä½¿ç”¨ StatefulSet éƒ¨ç½²ä¸€ä¸ª ZooKeeper ensembleã€‚ å¦‚ä½•ä½¿ç”¨ ConfigMaps ä¸€è‡´æ€§é…ç½® ensembleã€‚ å¦‚ä½•åœ¨ ensemble ä¸­ åˆ†å¸ƒ ZooKeeper æœåŠ¡çš„éƒ¨ç½²ã€‚ å¦‚ä½•åœ¨è®¡åˆ’ç»´æŠ¤ä¸­ä½¿ç”¨ PodDisruptionBudgets ç¡®ä¿æœåŠ¡å¯ç”¨æ€§ã€‚  ZooKeeper åŸºç¡€ Apache ZooKeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„å¼€æºåè°ƒæœåŠ¡ï¼Œç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿã€‚ZooKeeper å…è®¸ä½ è¯»å–ã€å†™å…¥æ•°æ®å’Œå‘ç°æ•°æ®æ›´æ–°ã€‚æ•°æ®æŒ‰å±‚æ¬¡ç»“æ„ç»„ç»‡åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå¹¶å¤åˆ¶åˆ° ensembleï¼ˆä¸€ä¸ª ZooKeeper æœåŠ¡çš„é›†åˆï¼‰ ä¸­æ‰€æœ‰çš„ ZooKeeper æœåŠ¡ã€‚å¯¹æ•°æ®çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯åŸå­çš„å’Œé¡ºåºä¸€è‡´çš„ã€‚ZooKeeper é€šè¿‡ Zab ä¸€è‡´æ€§åè®®åœ¨ ensemble çš„æ‰€æœ‰æœåŠ¡ä¹‹é—´å¤åˆ¶ä¸€ä¸ªçŠ¶æ€æœºæ¥ç¡®ä¿è¿™ä¸ªç‰¹æ€§ã€‚</description>
    </item>
    
  </channel>
</rss>